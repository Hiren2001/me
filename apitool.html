<!DOCTYPE html>
<html>
<head>
  <title>Weather App Snippet Generator</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
</head>
<body>
  <div class="container mt-5">
    <h3>JavaScript API Generator Tool</h3>
    <p>This tool allows you to generate a JavaScript snippet for a weather app that you can embed on your website. Simply provide the necessary details, and the tool will generate the code for you.</p>
    <div class="form-group">
      <label for="apiKey">API Key:</label>
      <input type="text" class="form-control" id="apiKey" placeholder="Enter your API key">
    </div>
    <div class="form-group">
      <label for="city">City:</label>
      <input type="text" class="form-control" id="city" placeholder="Enter city name">
    </div>
    <div class="form-group">
      <label for="containerId">Container ID:</label>
      <input type="text" class="form-control" id="containerId" placeholder="Enter container ID">
    </div>
    <button class="btn btn-primary" onclick="generateSnippet()">Generate Snippet</button>
    <div id="snippetCode" class="mt-4"></div>
  </div>

  <script>
    function generateSnippet() {
      var apiKey = document.getElementById('apiKey').value;
      var city = document.getElementById('city').value;
      var containerId = document.getElementById('containerId').value;

      var snippetCode = `<script>
  (function () {
    var container = document.getElementById('${containerId}');
    var apiKey = '${apiKey}';
    var city = '${city}';
    var url = "https://api.weatherapi.com/v1/current.json?key=" + apiKey + "&q=" + city;
    fetch(url)
      .then(function(response) {
        if (!response.ok) {
          throw new Error('Network response was not OK');
        }
        return response.json();
      })
      .then(function(data) {
        var weatherData = data.current;
        var html = "<h4>Current Weather in " + city + "</h4>";
        html += "<p>Temperature: " + weatherData.temp_c + "Â°C</p>";
        html += "<p>Condition: " + weatherData.condition.text + "</p>";
        container.innerHTML = html;
      })
      .catch(function(error) {
        console.error('Error:', error);
        container.innerHTML = "<p>Error retrieving weather data. Please try again later.</p>";
      });
  })();
</script>`;

      document.getElementById('snippetCode').innerHTML = `<pre>${snippetCode}</pre>`;
    }
  </script>
</body>
</html>
